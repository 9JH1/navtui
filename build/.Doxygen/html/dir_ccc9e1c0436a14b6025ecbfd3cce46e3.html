<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS12 Database: src/remote/plib Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CS12 Database<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">A database front and back end for a local library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_ccc9e1c0436a14b6025ecbfd3cce46e3.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">plib Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-subdirs" class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:lib" id="r_lib"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_936106f531de81092bac27e0cfbb9ed0.html">lib</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:plib_2Eh" id="r_plib_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="d3/db7/plib_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="d3/db7/plib_8h.html">plib.h</a></td></tr>
<tr class="memdesc:d3/db7/plib_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">argument parsing library <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="fragment"><div class="line">plib v5.0.11</div>
<div class="line">-----------------&amp;mdash;</div>
<div class="line">Plib is a basic argument parsing library that </div>
<div class="line">lets you simply define command line arguments </div>
<div class="line">and parse them quickly.</div>
</div><!-- fragment --> <hr  />
<p> <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Example of argument parsing:</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;main.c&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">    <span class="keywordflow">if</span>(argc &lt;= 1){</div>
<div class="line">        printf(<span class="stringliteral">&quot;not enough arguments\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> 1; </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// loop go through arguments </span></div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 1; i &lt; argc; i++){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// store current argument </span></div>
<div class="line">        <span class="keywordtype">char</span> *cur_arg = argv[i];</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// comparisons </span></div>
<div class="line">        <span class="keywordflow">if</span>(strcmp(cur_arg,<span class="stringliteral">&quot;--help&quot;</span>) == 0){</div>
<div class="line">            printf(<span class="stringliteral">&quot;help!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// print arg with value    </span></div>
<div class="line">        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strcmp(cur_arg,<span class="stringliteral">&quot;--test&quot;</span>) == 0){</div>
<div class="line">            <span class="keywordflow">if</span>(argv[i+1] == NULL){</div>
<div class="line">                printf(<span class="stringliteral">&quot;--test needs a value!\n&quot;</span>);</div>
<div class="line">            }</div>
<div class="line">            printf(<span class="stringliteral">&quot;--test run with value &#39;%s&#39;\n&quot;</span>,argv[i+1]);</div>
<div class="line">            i++;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This code can parse arguments like so (<span class="tt">program</span> being the compiled code from above) </p><div class="fragment"><div class="line">./program --help</div>
<div class="line">help!</div>
<div class="line"> </div>
<div class="line">./program --test </div>
<div class="line">--test needs a value! </div>
<div class="line"> </div>
<div class="line">./program --test 123</div>
<div class="line">--test run with value &#39;123&#39;</div>
</div><!-- fragment --><p>Now if we did the same thing using plib: </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="d3/db7/plib_8h.html">plib.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]){</div>
<div class="line">    <a class="code hl_struct" href="d4/d1b/structpl__arg.html">pl_arg</a> *<a class="code hl_function" href="d1/dbe/include_8h.html#a0bed8474bd33a912769360766f6b10d4">help</a> = <a class="code hl_define" href="d3/db7/plib_8h.html#a7861a13243875e0d471c6345fdcca7de">PL_A</a>(<span class="stringliteral">&quot;--help&quot;</span>);</div>
<div class="line">    <a class="code hl_struct" href="d4/d1b/structpl__arg.html">pl_arg</a> *test = <a class="code hl_define" href="d3/db7/plib_8h.html#a7861a13243875e0d471c6345fdcca7de">PL_A</a>(<span class="stringliteral">&quot;--test&quot;</span>,.takes_value = 1);</div>
<div class="line">    <a class="code hl_enumeration" href="d3/db7/plib_8h.html#afe6a6572169aee3b8a8e0bceab96c5a9">pl_r</a> return_code = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// parse the arguments </span></div>
<div class="line">    <span class="keywordflow">if</span>((return_code = pl_proc(argc,argv)) == PL_SUCCESS){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// if help is run  </span></div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_define" href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a>(<a class="code hl_function" href="d1/dbe/include_8h.html#a0bed8474bd33a912769360766f6b10d4">help</a>))</div>
<div class="line">            printf(<span class="stringliteral">&quot;help!&quot;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// if test is run </span></div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_define" href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a>(test))</div>
<div class="line">            printf(<span class="stringliteral">&quot;--test run with value &#39;%s&#39;\n&quot;</span>,test);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// error handling</span></div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        printf(<span class="stringliteral">&quot;error occured!\nCode: %s\nArgument: %s\n&quot;</span>,</div>
<div class="line">            <a class="code hl_define" href="d3/db7/plib_8h.html#a5150cf3b301dca00c230ddc4fd72e90e">PL_E</a>(return_code), <span class="comment">// get a string of the return code </span></div>
<div class="line">            PL_LAST_ARG, <span class="comment">// get the last string argument parsed</span></div>
<div class="line">        )</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ainclude_8h_html_a0bed8474bd33a912769360766f6b10d4"><div class="ttname"><a href="d1/dbe/include_8h.html#a0bed8474bd33a912769360766f6b10d4">help</a></div><div class="ttdeci">void help(void)</div><div class="ttdoc">Custom help function, mostly just a pl_help wrapper.</div><div class="ttdef"><b>Definition</b> lib.c:14</div></div>
<div class="ttc" id="aplib_8h_html"><div class="ttname"><a href="d3/db7/plib_8h.html">plib.h</a></div><div class="ttdoc">argument parsing library</div></div>
<div class="ttc" id="aplib_8h_html_a5150cf3b301dca00c230ddc4fd72e90e"><div class="ttname"><a href="d3/db7/plib_8h.html#a5150cf3b301dca00c230ddc4fd72e90e">PL_E</a></div><div class="ttdeci">#define PL_E(ret)</div><div class="ttdoc">returns a stringifyed version of an error code</div><div class="ttdef"><b>Definition</b> plib.h:376</div></div>
<div class="ttc" id="aplib_8h_html_a7861a13243875e0d471c6345fdcca7de"><div class="ttname"><a href="d3/db7/plib_8h.html#a7861a13243875e0d471c6345fdcca7de">PL_A</a></div><div class="ttdeci">#define PL_A(...)</div><div class="ttdoc">macro wrapper for pl_a</div><div class="ttdef"><b>Definition</b> plib.h:357</div></div>
<div class="ttc" id="aplib_8h_html_acbd1b26ec17499d33dcc6aa862f2f888"><div class="ttname"><a href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a></div><div class="ttdeci">#define PL_R(arg)</div><div class="ttdoc">get the type of key arg was run with</div><div class="ttdef"><b>Definition</b> plib.h:369</div></div>
<div class="ttc" id="aplib_8h_html_afe6a6572169aee3b8a8e0bceab96c5a9"><div class="ttname"><a href="d3/db7/plib_8h.html#afe6a6572169aee3b8a8e0bceab96c5a9">pl_r</a></div><div class="ttdeci">pl_r</div><div class="ttdoc">return codes of various functions</div><div class="ttdef"><b>Definition</b> plib.h:28</div></div>
<div class="ttc" id="astructpl__arg_html"><div class="ttname"><a href="d4/d1b/structpl__arg.html">pl_arg</a></div><div class="ttdoc">main struct for arguments</div><div class="ttdef"><b>Definition</b> plib.h:83</div></div>
</div><!-- fragment --><p> which outputs </p><div class="fragment"><div class="line">./plib_program --help </div>
<div class="line">help! </div>
<div class="line"> </div>
<div class="line">./plib_program --test </div>
<div class="line">error occured!</div>
<div class="line">Code: ARG_REQUIRES_VALUE</div>
<div class="line">Argument: --test </div>
<div class="line"> </div>
<div class="line">./plib_program --test=123</div>
<div class="line">--test run with value &#39;123&#39;</div>
</div><!-- fragment --> <hr  />
<p> <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Features</h2>
<p>Even though both snippets are roughly the same size the plib option offers much more readable code as well as having indepth builtin error detection. plib comes out of the box with a custom help function that prints out all of the arguments in a nice format like so: </p><div class="fragment"><div class="line">Options: </div>
<div class="line">  --help | NO VALUE</div>
<div class="line">  --test | VALUE </div>
</div><!-- fragment --><p>This help menu prints out all information available for an argument, other options that can be added to an argument include,</p><ul>
<li>Catagory: <blockquote class="doxtable">
<p>defaults to Options: and is used as the argument header. </p>
</blockquote>
</li>
<li>Type: <blockquote class="doxtable">
<p>type of argument, used only in the plib help dialog </p>
</blockquote>
</li>
<li>Description: <blockquote class="doxtable">
<p>description of argument </p>
</blockquote>
</li>
<li>Takes Value: <blockquote class="doxtable">
<p>if the argument takes a value or not. </p>
</blockquote>
</li>
</ul>
<p><br  />
</p>
<p>Search the documentation for <span class="tt"><a class="el" href="d4/d1b/structpl__arg.html" title="main struct for arguments">pl_arg</a></span> to view all options</p>
<hr  />
<p> As shown above plib comes with extensive error checking, when plib encounters an issue plib will return a specific enumerator (see <span class="tt"><a class="el" href="d3/db7/plib_8h.html#afe6a6572169aee3b8a8e0bceab96c5a9" title="return codes of various functions">pl_r</a></span> plib-return &amp; <span class="tt">pl_s</span> plib-string, in the documentation) which can be stringified using the <span class="tt">PL_E</span> (plib-error) function. Also shown is the <span class="tt">PL_LAST_ARG</span> value which retrives the argument that caused the issue. <br  />
</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Full Documentation</h2>
<p>This project uses the doxygen documentation system, in order to view the documentation you must install the <span class="tt">doxygen</span> program to your system. PLib does not come with its own DoxyFile so you need to create one, this can be done like so: </p><div class="fragment"><div class="line">doxygen -g plib </div>
<div class="line">doxygen plib</div>
</div><!-- fragment --><p>To view the newly generated documentation cd into the <span class="tt">./html</span> folder and open the <span class="tt">index.html</span> file in a browser of your choice. </p><blockquote class="doxtable">
<p>Roughly seven pages of documentation. </p>
</blockquote>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="dir_fe2e0cb949cafcffa084908b3ca2f11a.html">remote</a></li><li class="navelem"><a href="dir_ccc9e1c0436a14b6025ecbfd3cce46e3.html">plib</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
