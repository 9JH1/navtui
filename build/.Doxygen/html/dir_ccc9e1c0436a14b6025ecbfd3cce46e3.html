<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CS12 Database: src/remote/plib Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CS12 Database<span id="projectnumber">&#160;2</span>
   </div>
   <div id="projectbrief">A database front and back end for a local library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_ccc9e1c0436a14b6025ecbfd3cce46e3.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">plib Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-subdirs" class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:lib" id="r_lib"><td class="memItemLeft" align="right" valign="top"><span class="iconfolder"><div class="folder-icon"></div></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_936106f531de81092bac27e0cfbb9ed0.html">lib</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:plib_2Eh" id="r_plib_2Eh"><td class="memItemLeft" align="right" valign="top"><a href="d3/db7/plib_8h_source.html"><span class="icondoc"><div class="doc-icon"></div></span></a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="d3/db7/plib_8h.html">plib.h</a></td></tr>
<tr class="memdesc:d3/db7/plib_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic argument parsing library. <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="fragment"><div class="line">plib V4.5</div>
<div class="line">--------------------&amp;mdash;</div>
<div class="line">PLib is a tiny (13.4KB) but powerful argument library </div>
<div class="line">written in C. Using this library you can very easily </div>
<div class="line">set up full argument parsing with many features.</div>
<div class="line"> </div>
<div class="line">included in the lib folder you can find many other util librarys</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="d3/db7/plib_8h.html">plib.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="d0/d29/main_8c.html#ac490e54d26e537126a97540acf0b1cba">main</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> a, <span class="keyword">const</span> <span class="keywordtype">char</span> *b[]){</div>
<div class="line">    <span class="comment">// create arguments </span></div>
<div class="line">    <a class="code hl_struct" href="d4/d1b/structpl__arg.html">pl_arg</a> *<a class="code hl_function" href="d1/dbe/include_8h.html#a0bed8474bd33a912769360766f6b10d4">help</a> = <a class="code hl_define" href="d3/db7/plib_8h.html#acd82187d4f87128df6701e1117951d63">PL_P</a>(<span class="stringliteral">&quot;--help&quot;</span>,<span class="stringliteral">&quot;basic help call&quot;</span>,.type=<span class="stringliteral">&quot;void&quot;</span>,.shorthand=<span class="stringliteral">&quot;-h&quot;</span>);</div>
<div class="line">    <a class="code hl_struct" href="d4/d1b/structpl__arg.html">pl_arg</a> *test = <a class="code hl_define" href="d3/db7/plib_8h.html#acd82187d4f87128df6701e1117951d63">PL_P</a>(<span class="stringliteral">&quot;--test&quot;</span>,<span class="stringliteral">&quot;basic value arg&quot;</span>,1,.type=<span class="stringliteral">&quot;char *&quot;</span>,.shorthand=<span class="stringliteral">&quot;-t&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// error code var </span></div>
<div class="line">    <a class="code hl_enumeration" href="d3/db7/plib_8h.html#afe6a6572169aee3b8a8e0bceab96c5a9">pl_r</a> ret; </div>
<div class="line"> </div>
<div class="line">    <span class="comment">// process the system arguments </span></div>
<div class="line">    <span class="keywordflow">if</span>((ret = pl_proc(a, b)) == PL_SUCCESS){</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// check if arguments have been run </span></div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_define" href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a>(test))</div>
<div class="line">            printf(<span class="stringliteral">&quot;&#39;%s&#39;\n&quot;</span>, pl_arg_value(test),0);</div>
<div class="line">        </div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_define" href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a>(<a class="code hl_function" href="d1/dbe/include_8h.html#a0bed8474bd33a912769360766f6b10d4">help</a>))</div>
<div class="line">            <a class="code hl_function" href="d3/db7/plib_8h.html#ab2963c491879d340a6d185801b67ebaa">pl_help</a>(); </div>
<div class="line">    </div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">// handle errors</span></div>
<div class="line">        printf(<span class="stringliteral">&quot;error &#39;%s&#39; (&#39;%s&#39;)\n&quot;</span>, <a class="code hl_define" href="d3/db7/plib_8h.html#a2fff4b4869e460c1d102511abb189fcf">PL_E</a>(ret), <a class="code hl_define" href="d3/db7/plib_8h.html#a9fa27bd33aa602f21e9dca295c55c2cb">PL_LAST_ARG</a>);</div>
<div class="line">        <a class="code hl_function" href="d3/db7/plib_8h.html#ab2963c491879d340a6d185801b67ebaa">pl_help</a>();</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// exit</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="ainclude_8h_html_a0bed8474bd33a912769360766f6b10d4"><div class="ttname"><a href="d1/dbe/include_8h.html#a0bed8474bd33a912769360766f6b10d4">help</a></div><div class="ttdeci">void help(void)</div><div class="ttdoc">Custom help function, mostly just a pl_help wrapper.</div><div class="ttdef"><b>Definition</b> lib.c:16</div></div>
<div class="ttc" id="amain_8c_html_ac490e54d26e537126a97540acf0b1cba"><div class="ttname"><a href="d0/d29/main_8c.html#ac490e54d26e537126a97540acf0b1cba">main</a></div><div class="ttdeci">int main(const int c, const char *v[])</div><div class="ttdoc">main database loop</div><div class="ttdef"><b>Definition</b> main.c:17</div></div>
<div class="ttc" id="aplib_8h_html"><div class="ttname"><a href="d3/db7/plib_8h.html">plib.h</a></div><div class="ttdoc">Basic argument parsing library.</div></div>
<div class="ttc" id="aplib_8h_html_a2fff4b4869e460c1d102511abb189fcf"><div class="ttname"><a href="d3/db7/plib_8h.html#a2fff4b4869e460c1d102511abb189fcf">PL_E</a></div><div class="ttdeci">#define PL_E(i)</div><div class="ttdoc">convert a return code to a string using pl_r to pl_s array</div><div class="ttdef"><b>Definition</b> plib.h:517</div></div>
<div class="ttc" id="aplib_8h_html_a9fa27bd33aa602f21e9dca295c55c2cb"><div class="ttname"><a href="d3/db7/plib_8h.html#a9fa27bd33aa602f21e9dca295c55c2cb">PL_LAST_ARG</a></div><div class="ttdeci">#define PL_LAST_ARG</div><div class="ttdoc">get the last argument parsed by pl_proc</div><div class="ttdef"><b>Definition</b> plib.h:509</div></div>
<div class="ttc" id="aplib_8h_html_ab2963c491879d340a6d185801b67ebaa"><div class="ttname"><a href="d3/db7/plib_8h.html#ab2963c491879d340a6d185801b67ebaa">pl_help</a></div><div class="ttdeci">void pl_help(void)</div><div class="ttdoc">prints argument details</div><div class="ttdef"><b>Definition</b> plib.c:160</div></div>
<div class="ttc" id="aplib_8h_html_acbd1b26ec17499d33dcc6aa862f2f888"><div class="ttname"><a href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a></div><div class="ttdeci">#define PL_R(arg)</div><div class="ttdoc">check if argument has been run without PL_SUCCESS comparison this macro just removes the need to use ...</div><div class="ttdef"><b>Definition</b> plib.h:336</div></div>
<div class="ttc" id="aplib_8h_html_acd82187d4f87128df6701e1117951d63"><div class="ttname"><a href="d3/db7/plib_8h.html#acd82187d4f87128df6701e1117951d63">PL_P</a></div><div class="ttdeci">#define PL_P(...)</div><div class="ttdoc">wrapper for pl_arg_global_ptr that removes use of struct type definition.</div><div class="ttdef"><b>Definition</b> plib.h:472</div></div>
<div class="ttc" id="aplib_8h_html_afe6a6572169aee3b8a8e0bceab96c5a9"><div class="ttname"><a href="d3/db7/plib_8h.html#afe6a6572169aee3b8a8e0bceab96c5a9">pl_r</a></div><div class="ttdeci">pl_r</div><div class="ttdoc">PLib return codes.</div><div class="ttdef"><b>Definition</b> plib.h:222</div></div>
<div class="ttc" id="astructpl__arg_html"><div class="ttname"><a href="d4/d1b/structpl__arg.html">pl_arg</a></div><div class="ttdoc">argument options</div><div class="ttdef"><b>Definition</b> plib.h:160</div></div>
</div><!-- fragment --> <h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
Usage librarys</h1>
<blockquote class="doxtable">
<p>what the lib files provide </p>
</blockquote>
<ul>
<li><a class="el" href="d3/db7/plib_8h.html" title="Basic argument parsing library.">plib.h</a> - allows for advanced and fleixable argument parsing/handling.</li>
<li><a class="el" href="de/d28/draw_8h_source.html">lib/draw.h</a> - provides functions to draw boxes borders and titles, useful if making a TUI interface.</li>
<li><a class="el" href="d7/dae/ansi_8h_source.html">lib/ansi.h</a> - defines a bunch of ansi codes that do things eg move caret to pos or change term buffer.</li>
<li><a class="el" href="d0/daa/gc_8h_source.html">lib/gc.h</a> - basic garbage collector.</li>
<li><a class="el" href="de/ded/input_8h_source.html">input.h</a> - a input loop that collects mouse and keyboard information. All of this is done using standard librarys, so no curses or ncurses. </li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
Changelog</h1>
<blockquote class="doxtable">
<p>started 02/10/2025 </p>
</blockquote>
<ol type="1">
<li>added multi argument support. before, when using the same arg (that takes a value) twice the second run would overwrite the first runs value, now ive changed <span class="tt">arg.value</span> to be a <span class="tt">char **</span> array and ive added <span class="tt">arg.value_idx</span> and <span class="tt">arg.value_cap</span> meta for use in dma in <span class="tt">pl_proc</span>. you can now use <span class="tt">pl_arg_count</span> as a macro that returns the <span class="tt">arg.value_idx</span> value, below is a basic usage: <div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="d3/db7/plib_8h.html">plib.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="d0/d29/main_8c.html#ac490e54d26e537126a97540acf0b1cba">main</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> c, <span class="keyword">const</span> <span class="keywordtype">char</span> *v[]){</div>
<div class="line">    <a class="code hl_struct" href="d4/d1b/structpl__arg.html">pl_arg</a> *test = <a class="code hl_define" href="d3/db7/plib_8h.html#acd82187d4f87128df6701e1117951d63">PL_P</a>(<span class="stringliteral">&quot;--test&quot;</span>,.takes_value = 1);</div>
<div class="line">    <a class="code hl_enumeration" href="d3/db7/plib_8h.html#afe6a6572169aee3b8a8e0bceab96c5a9">pl_r</a> ret = PL_FAILURE;</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span>((ret = pl_proc(c,v)) == PL_SUCCESS){</div>
<div class="line">        <span class="keywordflow">if</span>(<a class="code hl_define" href="d3/db7/plib_8h.html#acbd1b26ec17499d33dcc6aa862f2f888">PL_R</a>(test)){</div>
<div class="line"> </div>
<div class="line">            <span class="comment">// iterate through every use of --test</span></div>
<div class="line">            <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0 ; i &lt; pl_arg_count(test) ; i++){</div>
<div class="line">                printf(<span class="stringliteral">&quot;%02d --test: %s\n&quot;</span>,</div>
<div class="line">                        i+1,</div>
<div class="line">                        test-&gt;value[i]);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">// handle errors </span></div>
<div class="line">        printf(<span class="stringliteral">&quot;Error: &#39;%s&#39; from &#39;%s&#39;\n&quot;</span>,</div>
<div class="line">                <a class="code hl_define" href="d3/db7/plib_8h.html#a2fff4b4869e460c1d102511abb189fcf">PL_E</a>(ret),</div>
<div class="line">                <a class="code hl_define" href="d3/db7/plib_8h.html#a9fa27bd33aa602f21e9dca295c55c2cb">PL_LAST_ARG</a>);</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="d3/db7/plib_8h.html#ab2963c491879d340a6d185801b67ebaa">pl_help</a>();</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> 2. </li>
</ol>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a href="dir_fe2e0cb949cafcffa084908b3ca2f11a.html">remote</a></li><li class="navelem"><a href="dir_ccc9e1c0436a14b6025ecbfd3cce46e3.html">plib</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
